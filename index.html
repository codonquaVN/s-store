<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>H√≥a ƒê∆°n B√°n H√†ng & D·ªãch V·ª•</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; color: #000; }
    input, textarea { width: 100%; padding: 8px; margin: 4px 0; font-size: 14px; }
    table { width: 100%; border-collapse: collapse; margin-top: 10px; font-size: 14px; }
    th, td { border: 1px solid #000; padding: 6px; text-align: center; }
    h3, h4 { text-align: center; margin: 4px 0; }
    button { padding: 10px 16px; margin-top: 10px; font-size: 16px; cursor: pointer; }

    .invoice { display: none; }
    .header { text-align: center; line-height: 1.4; }
    .footer { margin-top: 20px; font-size: 13px; }
    .highlight { color: #008000; font-weight: bold; }
    .warning { color: #d69a00; font-weight: bold; }

    @media print {
      .no-print { display: none; }
      .invoice { display: block; }
      body { margin: 0; }
    }
  </style>
</head>
<body>

  <div class="no-print">
    <h2>üìã T·∫†O H√ìA ƒê∆†N B√ÅN H√ÄNG</h2>
    <label>T√™n kh√°ch h√†ng:</label>
    <input id="tenkhach" placeholder="VD: T√∫ An">
    <label>S·ªë ƒëi·ªán tho·∫°i:</label>
    <input id="sdt" placeholder="0865xxxxxx">
    <label>ƒê·ªãa ch·ªâ:</label>
    <input id="diachi" placeholder="VD: H√† N·ªôi">
    <label>M·∫∑t h√†ng / d·ªãch v·ª•:</label>
    <input id="mathang" placeholder="VD: iPhone 13 128GB ZIN √°p">
    <label>IMEI:</label>
    <input id="imei" placeholder="VD: D9K2QJ29LT">
    <label>S·ªë l∆∞·ª£ng:</label>
    <input id="soluong" type="number" value="1">
    <label>Gi√°:</label>
    <input id="gia" type="number" placeholder="VD: 11500000">
    <label>Gi·∫£m gi√°:</label>
    <input id="giam" type="number" value="0">
    <label>Ghi ch√∫:</label>
    <textarea id="ghichu" rows="2" placeholder="Ghi ch√∫ th√™m..."></textarea>
    <button onclick="taoHoaDon()">üßæ T·∫°o & In H√≥a ƒê∆°n</button>
  </div>

  <div class="invoice" id="hoadon">
    <div class="header">
      <h3 class="highlight">S-STORE - ƒêI·ªÜN THO·∫†I ƒêI·ªÜN M√ÅY CH√çNH H√ÉNG</h3>
      <div>S·ªë 1 ng√µ 50 L∆∞∆°ng Th·∫ø Vinh - H√† N·ªôi</div>
      <h4>H√ìA ƒê∆†N B√ÅN H√ÄNG & D·ªäCH V·ª§</h4>
      <p><b>NG√ÄY:</b> <span id="ngay"></span></p>
    </div>

    <p><b>Kh√°ch h√†ng:</b> <span id="ten-khach"></span> - <span id="sdt-khach"></span></p>
    <p><b>ƒê·ªãa ch·ªâ:</b> <span id="diachi-khach"></span></p>
    <p><b>Ghi ch√∫:</b> <span id="note"></span></p>

    <table>
      <tr>
        <th>M·∫∂T H√ÄNG/D·ªäCH V·ª§</th><th>NOTE/IMEI</th><th>SL</th><th>GI√Å</th><th>GI·∫¢M</th><th>THANH TO√ÅN</th>
      </tr>
      <tr>
        <td id="hang"></td>
        <td id="maimei"></td>
        <td id="soluonghienthi"></td>
        <td id="giatien"></td>
        <td id="giamgia"></td>
        <td id="thanhtoan"></td>
      </tr>
      <tr>
        <td colspan="5" style="text-align:right"><b>T·ªîNG:</b></td>
        <td id="tongtien"></td>
      </tr>
    </table>

    <p style="font-weight:bold;color:red;">B·∫∞NG CH·ªÆ: <span id="bangchu"></span></p>

    <div class="footer">
      <p class="warning">* L∆∞u √Ω / B·∫£o h√†nh:</p>
      <ul style="margin:0 0 10px 20px;line-height:1.5;">
        <li>Bao main/m√†n zin - b·∫£o ƒë√∫ng t√¨nh tr·∫°ng khi xu·∫•t b√°n.</li>
        <li>B·∫£o h√†nh 3 th√°ng (Kh√¥ng b·∫£o h√†nh h√¨nh th·ª©c, m√≥p, x∆∞·ªõc...)</li>
        <li>Thi·∫øt b·ªã b·∫£o h√†nh ƒë√∫ng IMEI, c√≤n tem BH, ch∆∞a can thi·ªáp b√™n th·ª© ba.</li>
        <li>H·ªó tr·ª£ tr·∫£ g√≥p qua th·∫ª t√≠n d·ª•ng ho·∫∑c c√°c ·ª©ng d·ª•ng.</li>
        <li>Kh√°ch h√†ng thu c≈© ƒë·ªïi m·ªõi s·∫Ω ƒë∆∞·ª£c ∆∞u ƒë√£i gi·∫£m gi√°.</li>
      </ul>

      <p><b>Ch·ªß TK:</b> Ng√¥ Minh Ho√†ng</p>
      <p>Techcombank: 9694999999</p>
      <p>Li√™n h·ªá: 0977.818.000</p>
      <p style="text-align:center;margin-top:20px;">TR√ÇN TR·ªåNG C·∫¢M ∆†N!</p>
    </div>
  </div>

  <script>
    function numberToWordsVN(num) {
      const ChuSo = ["kh√¥ng","m·ªôt","hai","ba","b·ªën","nƒÉm","s√°u","b·∫£y","t√°m","ch√≠n"];
      function docSo(n) {
        let kq = "";
        let tram = Math.floor(n/100);
        let chuc = Math.floor((n%100)/10);
        let donvi = n%10;
        if(tram>0){ kq += ChuSo[tram] + " trƒÉm "; }
        if(chuc>1){ kq += ChuSo[chuc] + " m∆∞∆°i "; if(donvi==1) kq+="m·ªët"; else if(donvi>0) kq+=ChuSo[donvi];}
        else if(chuc==1){ kq += "m∆∞·ªùi "; if(donvi>0) kq+=ChuSo[donvi];}
        else if(chuc==0 && donvi>0){ kq += ChuSo[donvi];}
        return kq.trim();
      }
      if(num==0) return "Kh√¥ng ƒë·ªìng";
      let ty = Math.floor(num/1e9);
      let trieu = Math.floor((num%1e9)/1e6);
      let nghin = Math.floor((num%1e6)/1e3);
      let dong = num%1e3;
      let str="";
      if(ty>0) str+=docSo(ty)+" t·ª∑ ";
      if(trieu>0) str+=docSo(trieu)+" tri·ªáu ";
      if(nghin>0) str+=docSo(nghin)+" ngh√¨n ";
      if(dong>0) str+=docSo(dong);
      return str.trim() + " ƒë·ªìng";
    }

    function taoHoaDon() {
      const ten = document.getElementById("tenkhach").value;
      const sdt = document.getElementById("sdt").value;
      const diachi = document.getElementById("diachi").value;
      const mathang = document.getElementById("mathang").value;
      const imei = document.getElementById("imei").value;
      const sl = parseInt(document.getElementById("soluong").value);
      const gia = parseInt(document.getElementById("gia").value);
      const giam = parseInt(document.getElementById("giam").value);
      const ghichu = document.getElementById("ghichu").value;

      const thanhtoan = sl * gia - giam;
      const today = new Date();
      const date = today.toLocaleDateString("vi-VN");

      document.getElementById("ngay").textContent = date;
      document.getElementById("ten-khach").textContent = ten;
      document.getElementById("sdt-khach").textContent = sdt;
      document.getElementById("diachi-khach").textContent = diachi;
      document.getElementById("note").textContent = ghichu;
      document.getElementById("hang").textContent = mathang;
      document.getElementById("maimei").textContent = imei;
      document.getElementById("soluonghienthi").textContent = sl;
      document.getElementById("giatien").textContent = gia.toLocaleString("vi-VN");
      document.getElementById("giamgia").textContent = giam.toLocaleString("vi-VN");
      document.getElementById("thanhtoan").textContent = thanhtoan.toLocaleString("vi-VN");
      document.getElementById("tongtien").textContent = thanhtoan.toLocaleString("vi-VN");
      document.getElementById("bangchu").textContent = numberToWordsVN(thanhtoan);

      document.querySelector(".invoice").style.display = "block";
      window.print();
    }
  </script>
</body>
</html>
